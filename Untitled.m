%CorrectDroppedFrames(dr1, 'D:\Projects\CA1_10\2 day\Decompress_tif\', 'recording_20160930_175633.tif');

%PreProcessor('D:\Projects\CA1_8\2 day\', 'recording_20160930_171000-001new.tif', 81, 1, 640, 540, 1, 0, 1161, 1, 20, 'D:\Projects\CA1_8\1 day\first_frame_8_1day.tif');
%PreProcessor('D:\Projects\CA1_8\2 day\', 'recording_20160930_171000-002.tif', 81, 1, 640, 540, 1, 0, 3771, 1, 20, 'D:\Projects\CA1_8\1 day\first_frame_8_1day.tif');

%PreProcessor('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132.tif', 111, 1, 660, 500, 1, 119, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-001.tif', 111, 1, 660, 500, 1, 1, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-002.tif', 111, 1, 660, 500, 1, 1, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-003.tif', 111, 1, 660, 500, 1, 1, 2461, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');

%PreProcessor('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337.tif', 111, 1, 660, 500, 1, 83, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-001.tif', 111, 1, 660, 500, 1, 1, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-002.tif', 111, 1, 660, 500, 1, 1, 5394, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');
%PreProcessor('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-003.tif', 111, 1, 660, 500, 1, 1, 2366, 1, 30, 'D:\Projects\CA1_9\1 day\first_frame_9_1day.tif');

%PreProcessor('D:\Projects\CA1_10\1 day\', 'recording_20160929_173825.tif', 36, 1, 665, 500, 1, 108, 5394, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\1 day\', 'recording_20160929_173825-001.tif', 36, 1, 665, 500, 1, 1, 5394, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\1 day\', 'recording_20160929_173825-002.tif', 36, 1, 665, 500, 1, 1, 5394, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\1 day\', 'recording_20160929_173825-003.tif', 36, 1, 665, 500, 1, 1, 2288, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');

%PreProcessor('D:\Projects\CA1_10\2 day\', 'recording_20160930_174317.tif', 36, 1, 665, 500, 1, 101, 5394, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\2 day\', 'recording_20160930_174317-001.tif', 36, 1, 665, 500, 1, 1, 1806, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\2 day\', 'recording_20160930_175633.tif_aft.tif', 36, 1, 665, 500, 1, 104, 5472, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');
%PreProcessor('D:\Projects\CA1_10\2 day\', 'recording_20160930_175633-001.tif', 36, 1, 665, 500, 1, 1, 778, 1, 20, 'D:\Projects\CA1_10\1 day\first_frame_10_1day.tif');

%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160929_180649_part1_cropped.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);
%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160929_180649_part3_cropped.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);
%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160929_180649_part4_cropped.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);

%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160930_181351-000_corrected.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);
%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160930_181351-001_corrected.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);
%PreProcessor('D:\Scripts\test\video_in\', 'CA1_11_recording_20160930_182033_002_corrected.tif', 1, 1, 530, 420, 0, 0, 5394, 0, 20);

%system(['"C:\Program Files\Anaconda3\python.exe"<', 'C:/Users/Владимир/PycharmProjects/df_f/df_f_several_files.py'])

%PerformPcaIca('D:\Projects\CA1_8\2 day\Decompress_tif\', 'recording_20160930_171000.tif_corrected.tif', 1, 300, 200);
%PerformPcaIca('D:\Projects\CA1_8\2 day\Decompress_tif\', 'recording_20160930_171000-001.tif_corrected.tif', 1, 300, 200);

%PerformPcaIca('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-001.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-002.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\1 day\', 'recording_20161006_153132-003.tif_corrected.tif', 1, 80, 50);

%PerformPcaIca('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-001.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-002.tif_corrected.tif', 1, 80, 50);
%PerformPcaIca('D:\Projects\CA1_9\2 day\', 'recording_20161007_162337-003.tif_corrected.tif', 1, 80, 50);

%PerformPcaIca('D:\Projects\CA1_10\2 day\Decompress_tif\', 'recording_20160930_174317.tif_corrected.tif', 1, 300, 200);
%PerformPcaIca('D:\Projects\CA1_10\2 day\Decompress_tif\', 'recording_20160930_174317-001.tif_corrected.tif', 1, 300, 200);
%PerformPcaIca('D:\Projects\CA1_10\2 day\Decompress_tif\', 'recording_20160930_175633.tif_aft.tif_corrected.tif', 1, 300, 200);
%PerformPcaIca('D:\Projects\CA1_10\2 day\Decompress_tif\', 'recording_20160930_175633-001.tif_corrected.tif', 1, 300, 200);

%PerformPcaIca('D:\Projects\CA1_11\2 day\Decompress_tif\', 'recording_20160930_181351.tif_corrected.tif', 1, 600, 400);
%PerformPcaIca('D:\Projects\CA1_11\2 day\Decompress_tif\', 'recording_20160930_181351-001.tif_corrected.tif', 1, 600, 400);
%PerformPcaIca('D:\Projects\CA1_11\2 day\Decompress_tif\', 'recording_20160930_182033_conc.tif_aft.tif_corrected.tif', 1, 600, 400);





%CorrectDroppedFrames(dr2, 'D:\Projects\CA1_11\2 day\Decompress_tif\', 'recording_20160930_182033_conc.tif');



%RefineFilters('D:\Projects\CA1_10\filters\',-1, 100, 1000, 0.95, 0.75, 0.1);

NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160929_165135-000.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160929_165135-001.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160929_165135-002.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160929_165135-003.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);

NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160930_171000-000.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160930_171000-001.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160930_171000-002.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_8_recording_20160930_171000-003.tif_corrected.tif', 'D:\Projects\CA1_8\filters\refined_smoothed\', 30, 1, 20);


NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161006_153132-000.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161006_153132-001.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161006_153132-002.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161006_153132-003.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);

NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161007_162337-000.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161007_162337-001.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161007_162337-002.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);
NeuropilCorrect_fx('D:\Scripts\test\video_out\CA1_9_recording_20161007_162337-003.tif_corrected.tif', 'D:\Projects\CA1_9\CA1_9_refined\', 30, 1, 20);




%SpikeDetector_f('df_recording_20160817_165314.tif_corrected.tif_neuropil_30.csv', 'D:\Projects\CA1_7\20160817\', 4, 1, 1);
